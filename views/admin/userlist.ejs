<!DOCTYPE HTML>
<html lang="en">

<%- include('header.ejs') %>

        <section class="content-main">
            <div class="content-header">
                <h2 class="content-title">Users list</h2>
                <div>
                    <!-- <a href="#" class="btn btn-primary"><i class="material-icons md-plus"></i> Create new</a> -->
                </div>
            </div>
            <div class="card mb-4">
                <!-- <header class="card-header">
                    <div class="row gx-3">
                        <div class="col-lg-4 col-md-6 me-auto">
                            <input type="text" placeholder="Search..." class="form-control">
                        </div>
                        <div class="col-lg-2 col-md-3 col-6">
                            <select class="form-select">
                                <option>Status</option>
                                <option>Active</option>
                                <option>Disabled</option>
                                <option>Show all</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6">
                            <select class="form-select">
                                <option>Show 20</option>
                                <option>Show 30</option>
                                <option>Show 40</option>
                            </select>
                        </div>
                    </div>
                </header>  -->
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <!-- <thead>
                                <tr>
                                    <th>Seller</th>
                                    <th>Email</th>
                                    <th>Status</th>
                                    <th>Registered</th>
                                    <th class="text-end"> Action </th>
                                </tr>
                            </thead> -->
                            <!-- <tbody>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar1.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Eleanor Pena</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="2c4940494d42435e1e1c1e1c6c49544d415c4049024f4341">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar2.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Mary Monasa</h6>
                                                <small class="text-muted">Seller ID: #129</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="c3aeacada2afaab0a283a6bba2aeb3afa6eda0acae">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>11.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar3.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Jonatan Ive</h6>
                                                <small class="text-muted">Seller ID: #400</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="d1bca3bbbeb9bf91b4a9b0bca1bdb4ffb2bebc">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar4.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Eleanor Pena</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="b9dcd5dcd8d7d6cb8b898b89f9dcc1d8d4c9d5dc97dad6d4">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-danger">Inactive</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar1.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Albert Pushkin</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="f5869a98909a9b90b5988c98949c99db969a98">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>20.11.2019</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar2.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Alexandra Pena</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="37525b52565958450507050777524f565a475b521954585a">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-danger">Inactive</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar3.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Eleanor Pena</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="50353c35313e3f2262606260103528313d203c357e333f3d">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-danger">Inactive</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar4.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Alex Pushkina</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="20414c455860474d41494c0e4f5247">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar1.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Eleanor Pena</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="40252c25212e2f3272707270002538212d302c256e232f2d">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="40%">
                                        <a href="#" class="itemside">
                                            <div class="left">
                                                <img src="   imgs/people/avatar2.jpg" class="img-sm img-avatar" alt="Userpic">
                                            </div>
                                            <div class="info pl-3">
                                                <h6 class="mb-0 title">Eleanor Pena</h6>
                                                <small class="text-muted">Seller ID: #439</small>
                                            </div>
                                        </a>
                                    </td>
                                    <td><template class="_cf_email_" data-cfemail="8eebe2ebefe0e1fcbcbebcbeceebf6efe3fee2eba0ede1e3">[email&#160;protected]</template></td>
                                    <td><span class="badge rounded-pill alert-success">Active</span></td>
                                    <td>08.07.2020</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-sm btn-brand rounded font-sm mt-15">View details</a>
                                    </td>
                                </tr>
                            </tbody> -->
                            <table class="table">
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Mobile</th>
                                    <th>Status</th> <!-- Added Status header -->
                                    <th>Action</th>
                                </tr>
                            
                                <% if(users.length > 0) { %>
                                    <% for(let i = 0; i < users.length; i++) { %>
                                        <tr>
                                            <td><%= users[i].name %></td>
                                            <td><%= users[i].email %></td>
                                            <td><%= users[i].mobile %></td>
                                            <td>
                                                <% if(users[i].blocked) { %>
                                                    Blocked
                                                <% } else { %>
                                                    Active
                                                <% } %>
                                            </td>
                                            <td>
                                                <% if(users[i].blocked) { %>
                                                    <button onclick="confirmAction('<%= users[i]._id %>', 'unblock')" class="btn btn-primary">Unblock</button>
                                                <% } else { %>
                                                    <button onclick="confirmAction('<%= users[i]._id %>', 'block')" class="btn btn-primary">Block</button>
                                                <% } %>
                                            </td>
                                        </tr>
                                    <% } %>
                                <% } else { %>
                                    <tr>
                                        <td colspan="5">No Users Found</td>
                                    </tr>
                                <% } %>
                                
                                                                
                            </table>
                            
                        </table> <!-- table-responsive.// -->
                    </div>
                </div> <!-- card-body end// -->
            </div> <!-- card end// -->
            <!-- <div class="pagination-area mt-15 mb-50">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-start">
                        <li class="page-item active"><a class="page-link" href="#">01</a></li>
                        <li class="page-item"><a class="page-link" href="#">02</a></li>
                        <li class="page-item"><a class="page-link" href="#">03</a></li>
                        <li class="page-item"><a class="page-link dot" href="#">...</a></li>
                        <li class="page-item"><a class="page-link" href="#">16</a></li>
                        <li class="page-item"><a class="page-link" href="#"><i class="material-icons md-chevron_right"></i></a></li>
                    </ul>
                </nav>
            </div> -->
            <div class="row" style="margin-left: auto; margin-right: auto; width: fit-content; padding: 20px;">
                <div class="col-lg-12">
                    <div class="page-pagination aos-init aos-animate" data-aos="fade-up" data-aos-delay="0">
                        <ul class="pagination">
                            <% if (currentPage > 1) { %>
                                <li class="page-item">
                                    <a class="page-link" href="/admin/userlist?page=<%= currentPage - 1 %>" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                            <% } %>
                            <% for (let i = 1; i <= totalPages; i++) { %>
                                <li class="page-item <% if (currentPage === i) { %>active<% } %>">
                                    <a class="page-link" href="/admin/userlist?page=<%= i %>" style="z-index: 3; color: #fff; background-color: #321d1d; border-color: #ffffff;"><%= i %></a>
                                </li>
                            <% } %>
                            <% if (currentPage < totalPages) { %>
                                <li class="page-item">
                                    <a class="page-link" href="/admin/userlist?page=<%= currentPage + 1 %>" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                            <% } %>
                        </ul>                                   
                    </div>
                </div>
            </div>
        </section> <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script data-cfasync="false" src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
                    document.write(new Date().getFullYear())
                    </script> ©, Athlete - HTML Ecommerce Template .
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <script src="   js/vendors/jquery-3.6.0.min.js"></script>
    <script src="   js/vendors/bootstrap.bundle.min.js"></script>
    <script src="   js/vendors/select2.min.js"></script>
    <script src="   js/vendors/perfect-scrollbar.js"></script>
    <script src="   js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="   js/main.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        function confirmAction(userId, action) {
            let title, text, confirmButtonText;
            
            if (action === 'block') {
                title = 'Block User';
                text = 'Are you sure you want to block this user?';
                confirmButtonText = 'Yes, block it!';
            } else if (action === 'unblock') {
                title = 'Unblock User';
                text = 'Are you sure you want to unblock this user?';
                confirmButtonText = 'Yes, unblock it!';
            }
    
            Swal.fire({
                title: title,
                text: text,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: confirmButtonText,
                cancelButtonText: 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    if (action === 'block') {
                        window.location.href = '/admin/block-user?id=' + userId;
                    } else if (action === 'unblock') {
                        window.location.href = '/admin/unblock-user?id=' + userId;
                    }
                }
            });
        }
    </script>
    
</body>


<!-- Mirrored from wp.alithemes.com/html/Athlete/Athlete-backend/page-sellers-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:23 GMT -->
</html>